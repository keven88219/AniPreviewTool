# 序列帧动画预览工具

这是一个用 PyQt5 开发的序列帧动画预览工具,用于查看和播放基于 plist + png 格式的序列帧动画。

## 主要功能

### 1. 文件浏览
- 左侧文件树浏览器,可浏览本地文件夹
- 支持"返回根目录"功能
- 自动过滤并显示有效的动画文件(配对的 .plist 和 .png 文件)

### 2. 动画列表
- 中间面板显示当前文件夹下的所有有效动画文件
- 按名称排序显示
- 自动选中并播放第一个动画

### 3. 预览功能
- 右侧预览区域支持多动画同时预览
- 采用网格布局(2列)显示所有动画
- 每个预览窗口显示:
  - 动画预览画面
  - 动画名称
  - 尺寸和帧数信息
- 支持双击预览窗口打开单独的大预览窗口

### 4. 动画控制
- 播放/暂停控制
- 帧率调节(1-60fps)
- 动画类型选择(当一个文件包含多个动画序列时)

### 5. 动画处理
- 支持旋转帧的处理
- 支持偏移位置的计算
- 保持原始比例显示
- 支持透明背景

### 6. 预览窗口功能
- 支持滚动查看
- 自适应缩放
- 显示详细信息(尺寸、帧数)
- 独立的播放控制

## 技术特性

- 使用 PyQt5 构建界面
- 支持 plist 文件解析
- 使用 PIL 处理图片
- 支持 RGBA 格式图片
- 使用 QTimer 控制动画播放
- 图片缓存机制提升性能

## 使用说明

1. 启动程序后,使用左侧文件树浏览到包含动画文件的文件夹
2. 在中间面板选择要预览的动画文件
3. 右侧会自动显示该文件包含的所有动画序列
4. 可以通过底部控制栏调整播放速度
5. 双击任意预览窗口可打开大预览模式

## 文件格式要求

- 动画文件需要成对出现:
  - .plist 文件: 包含动画帧的位置、大小等信息
  - .png 文件: 包含所有动画帧的图片资源
- plist 文件需要包含标准的帧信息:
  - frame: 帧在图片中的位置和大小
  - rotated: 是否旋转
  - sourceSize: 原始尺寸
  - offset: 偏移量

## 系统要求

- Python 3.x
- PyQt5
- Pillow
- numpy

## 注意事项

1. 确保 plist 文件和 png 文件在同一目录下
2. 文件名需要配对(除了后缀名外完全相同)
3. 大预览模式会预先缓存所有帧以提升性能
4. 帧率调整会实时生效
